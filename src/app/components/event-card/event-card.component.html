<div class="card event-card" (click)="showModal(content, $event)">
  <div class="card-body d-flex justify-content-between flex-column">
    <div>
      <h5 class="card-title">{{data.location}} @ {{ data.time | date:'shortTime' }}</h5>
      <p class="card-title text-muted">Hosted by {{data.host}}</p>
    </div>
    <ng-container *ngIf="!userGoing; else undoTemplate">
      <div class="button-details d-flex justify-content-between">
        <div class="going-box mx-1">
          <button class="btn btn-outline-success going-button btn-lg" style="width:100%" (click)="clickGoing()">Going
            <span class="badge badge-success">{{data.going.length}}</span></button>
        </div>
        <div class="maybe-box mx-1">
          <button class="btn btn-outline-info maybe-button btn-lg" style="width:100%" (click)="clickMaybe()">Maybe <span
              class="badge badge-info">{{data.maybe.length}}</span></button>
        </div>
      </div>
    </ng-container>
    <ng-template #undoTemplate>
      <div class="button-details">
        <div class="mx-1">
          <button class="btn btn-outline-danger going-button btn-lg" style="width:100%"
            (click)="clickUndo()">Undo</button>
        </div>
      </div>
    </ng-template>
  </div>
</div>

<ng-template #content let-modal>

  <div class="modal-body">

    <div class="card-body d-flex justify-content-between flex-column">
      <div>
        <h5 class="card-title">{{data.location}} @ {{data.time | date:'shortTime'}}</h5>
        <p class="card-title text-muted">Hosted by {{data.host}}</p>
      </div>
      <div class="mb-3">
        Going: <span *ngFor="let person of data.going">{{person}}, </span>
      </div>
      <div class="mb-3">
        Maybe: <span *ngFor="let person of data.maybe">{{person}}, </span>
      </div>
      <ng-container *ngIf="!userGoing; else modalMaybeTemplate">
        <div class="button-details d-flex justify-content-between">
          <div class="going-box mx-1">
            <button class="btn btn-outline-success going-button btn-lg" style="width:100%" (click)="clickGoing()">Going
              <span class="badge badge-success">{{data.going.length}}</span></button>
          </div>
          <div class="maybe-box mx-1">
            <button class="btn btn-outline-info maybe-button btn-lg" style="width:100%" (click)="clickMaybe()">Maybe <span
                class="badge badge-info">{{data.maybe.length}}</span></button>
          </div>
        </div>
      </ng-container>
      <ng-template #modalMaybeTemplate>
        <div class="mx-1">
          <button class="btn btn-outline-danger maybe-button btn-lg" style="width:100%" (click)="clickUndo()">Undo</button>
        </div>
      </ng-template>
    </div>

  </div>


</ng-template>